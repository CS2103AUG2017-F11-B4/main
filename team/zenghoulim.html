<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.3">
<title>Zeng Hou LIM - Project Portfolio</title>
<link rel="stylesheet" href="../stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../stylesheets/coderay-asciidoctor.css">
</head>
<body class="article">
<div id="header">
<h1>Zeng Hou LIM - Project Portfolio</h1>
</div>
<div id="content">
<div class="sect1">
<h2 id="project-address-book-pro"><a class="link" href="#project-address-book-pro">Project: Address Book Pro</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>AddressBook - Level 4 is a desktop address book application used for teaching Software Engineering principles. The user interacts with it using a CLI, and it has a GUI created with JavaFX. It is written in Java, and has about 6 kLoC.</p>
</div>
<div class="paragraph">
<p><strong>Code contributed</strong>: [<a href="https://github.com/CS2103AUG2017-F11-B4/main/blob/master/collated/main/zenghou.md">Functional code</a>] [<a href="https://github.com/CS2103AUG2017-F11-B4/main/blob/master/collated/test/zenghou.md">Test code</a>]</p>
</div>
<div class="sect2">
<h3 id="enhancement-added-code-remark-code-command"><a class="link" href="#enhancement-added-code-remark-code-command">Enhancement Added: <code>remark</code> Command</a></h3>
<div class="sect3">
<h4 id="external-behavior"><a class="link" href="#external-behavior">External behavior</a></h4>
<hr>
<div class="paragraph">
<p>Adds a <code>remark</code> to a person in the address book
Format: <code>remark INDEX [r/REMARK]</code></p>
</div>
<div class="paragraph">
<p><mark>Start of Extract [from: UserGuide]</mark></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="adding-a-remark-code-remark-code"><a class="link" href="#adding-a-remark-code-remark-code">Adding a remark : <code>remark</code></a></h3>
<div class="paragraph">
<p>Adds a remark to a specified person from the address book.<br>
Format: <code>remark INDEX [r/REMARK]</code><br>
Shorthand for delete: <code>r</code></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Adds a remark to the person at the specified <code>INDEX</code>.</p>
</li>
<li>
<p>The index refers to the index number shown in the most recent listing.</p>
</li>
<li>
<p>The index <strong>must be a positive integer</strong> 1, 2, 3, &#8230;&#8203;</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>list</code><br>
<code>remark 2 r/Likes to drink coffee and has a good sense of humor</code><br>
Adds the remark "Likes to drink coffee and has a good sense of humor"<br>
to the 2nd person in the address book.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Since v1.1.</p>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
<div class="sect3">
<h4 id="justification"><a class="link" href="#justification">Justification</a></h4>
<div class="paragraph">
<p>While a <code>remark</code> field is similar in nature to <code>tag</code> field, they serve different purpose. The former is used to store short phrase about a person (e.g. Likes to drink coffee and has good sense of humor) whereas the latter is suited for classifying persons in the address book.</p>
</div>
</div>
<div class="sect3">
<h4 id="implementation"><a class="link" href="#implementation">Implementation</a></h4>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: Developer Guide]</mark></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="creating-a-new-command-code-remark-code"><a class="link" href="#creating-a-new-command-code-remark-code">Creating a new command: <code>remark</code></a></h3>
<div class="paragraph">
<p>By creating this command, you will get a chance to learn how to implement a feature end-to-end, touching all major components of the app.</p>
</div>
<div class="sect3">
<h4 id="description"><a class="link" href="#description">Description</a></h4>
<div class="paragraph">
<p>Edits the remark for a person specified in the <code>INDEX</code>.<br>
Format: <code>remark INDEX r/[REMARK]</code></p>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>remark 1 r/Likes to drink coffee.</code><br>
Edits the remark for the first person to <code>Likes to drink coffee.</code></p>
</li>
<li>
<p><code>remark 1 r/</code><br>
Removes the remark for the first person.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="step-by-step-instructions"><a class="link" href="#step-by-step-instructions">Step-by-step Instructions</a></h4>
<div class="sect4">
<h5 id="step-1-logic-teach-the-app-to-accept-remark-which-does-nothing"><a class="link" href="#step-1-logic-teach-the-app-to-accept-remark-which-does-nothing">[Step 1] Logic: Teach the app to accept 'remark' which does nothing</a></h5>
<div class="paragraph">
<p>Let&#8217;s start by teaching the application how to parse a <code>remark</code> command. We will add the logic of <code>remark</code> later.</p>
</div>
<div class="paragraph">
<p><strong>Main:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add a <code>RemarkCommand</code> that extends <a href="{repoURL}/src/main/java/seedu/address/logic/commands/UndoableCommand.java"><code>UndoableCommand</code></a>. Upon execution, it should just throw an <code>Exception</code>.</p>
</li>
<li>
<p>Modify <a href="{repoURL}/src/main/java/seedu/address/logic/parser/AddressBookParser.java"><code>AddressBookParser</code></a> to accept a <code>RemarkCommand</code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Tests:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add <code>RemarkCommandTest</code> that tests that <code>executeUndoableCommand()</code> throws an Exception.</p>
</li>
<li>
<p>Add new test method to <a href="{repoURL}/src/test/java/seedu/address/logic/parser/AddressBookParserTest.java"><code>AddressBookParserTest</code></a>, which tests that typing "remark" returns an instance of <code>RemarkCommand</code>.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="step-2-logic-teach-the-app-to-accept-remark-arguments"><a class="link" href="#step-2-logic-teach-the-app-to-accept-remark-arguments">[Step 2] Logic: Teach the app to accept 'remark' arguments</a></h5>
<div class="paragraph">
<p>Let&#8217;s teach the application to parse arguments that our <code>remark</code> command will accept. E.g. <code>1 r/Likes to drink coffee.</code></p>
</div>
<div class="paragraph">
<p><strong>Main:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Modify <code>RemarkCommand</code> to take in an <code>Index</code> and <code>String</code> and print those two parameters as the error message.</p>
</li>
<li>
<p>Add <code>RemarkCommandParser</code> that knows how to parse two arguments, one index and one with prefix 'r/'.</p>
</li>
<li>
<p>Modify <a href="{repoURL}/src/main/java/seedu/address/logic/parser/AddressBookParser.java"><code>AddressBookParser</code></a> to use the newly implemented <code>RemarkCommandParser</code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Tests:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Modify <code>RemarkCommandTest</code> to test the <code>RemarkCommand#equals()</code> method.</p>
</li>
<li>
<p>Add <code>RemarkCommandParserTest</code> that tests different boundary values
for <code>RemarkCommandParser</code>.</p>
</li>
<li>
<p>Modify <a href="{repoURL}/src/test/java/seedu/address/logic/parser/AddressBookParserTest.java"><code>AddressBookParserTest</code></a> to test that the correct command is generated according to the user input.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="step-3-ui-add-a-placeholder-for-remark-in-code-personcard-code"><a class="link" href="#step-3-ui-add-a-placeholder-for-remark-in-code-personcard-code">[Step 3] Ui: Add a placeholder for remark in <code>PersonCard</code></a></h5>
<div class="paragraph">
<p>Let&#8217;s add a placeholder on all our <a href="{repoURL}/src/main/java/seedu/address/ui/PersonCard.java"><code>PersonCard</code></a> s to display a remark for each person later.</p>
</div>
<div class="paragraph">
<p><strong>Main:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add a <code>Label</code> with any random text inside <a href="{repoURL}/src/main/resources/view/PersonListCard.fxml"><code>PersonListCard.fxml</code></a>.</p>
</li>
<li>
<p>Add FXML annotation in <a href="{repoURL}/src/main/java/seedu/address/ui/PersonCard.java"><code>PersonCard</code></a> to tie the variable to the actual label.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Tests:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Modify <a href="{repoURL}/src/test/java/guitests/guihandles/PersonCardHandle.java"><code>PersonCardHandle</code></a> so that future tests can read the contents of the remark label.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="step-4-model-add-code-remark-code-class"><a class="link" href="#step-4-model-add-code-remark-code-class">[Step 4] Model: Add <code>Remark</code> class</a></h5>
<div class="paragraph">
<p>We have to properly encapsulate the remark in our <a href="{repoURL}/src/main/java/seedu/address/model/person/ReadOnlyPerson.java"><code>ReadOnlyPerson</code></a> class. Instead of just using a <code>String</code>, let&#8217;s follow the conventional class structure that the codebase already uses by adding a <code>Remark</code> class.</p>
</div>
<div class="paragraph">
<p><strong>Main:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add <code>Remark</code> to model component (you can copy from <a href="{repoURL}/src/main/java/seedu/address/model/person/Address.java"><code>Address</code></a>, remove the regex and change the names accordingly).</p>
</li>
<li>
<p>Modify <code>RemarkCommand</code> to now take in a <code>Remark</code> instead of a <code>String</code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Tests:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add test for <code>Remark</code>, to test the <code>Remark#equals()</code> method.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="step-5-model-modify-code-readonlyperson-code-to-support-a-code-remark-code-field"><a class="link" href="#step-5-model-modify-code-readonlyperson-code-to-support-a-code-remark-code-field">[Step 5] Model: Modify <code>ReadOnlyPerson</code> to support a <code>Remark</code> field</a></h5>
<div class="paragraph">
<p>Now we have the <code>Remark</code> class, we need to actually use it inside <a href="{repoURL}/src/main/java/seedu/address/model/person/ReadOnlyPerson.java"><code>ReadOnlyPerson</code></a>.</p>
</div>
<div class="paragraph">
<p><strong>Main:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add three methods <code>setRemark(Remark)</code>, <code>getRemark()</code> and <code>remarkProperty()</code>. Be sure to implement these newly created methods in <a href="{repoURL}/src/main/java/seedu/address/model/person/ReadOnlyPerson.java"><code>Person</code></a>, which implements the <a href="{repoURL}/src/main/java/seedu/address/model/person/ReadOnlyPerson.java"><code>ReadOnlyPerson</code></a> interface.</p>
</li>
<li>
<p>You may assume that the user will not be able to use the <code>add</code> and <code>edit</code> commands to modify the remarks field (i.e. the person will be created without a remark).</p>
</li>
<li>
<p>Modify <a href="{repoURL}/src/main/java/seedu/address/model/util/SampleDataUtil.java/"><code>SampleDataUtil</code></a> to add remarks for the sample data (delete your <code>addressBook.xml</code> so that the application will load the sample data when you launch it.)</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="step-6-storage-add-code-remark-code-field-to-code-xmladaptedperson-code-class"><a class="link" href="#step-6-storage-add-code-remark-code-field-to-code-xmladaptedperson-code-class">[Step 6] Storage: Add <code>Remark</code> field to <code>XmlAdaptedPerson</code> class</a></h5>
<div class="paragraph">
<p>We now have <code>Remark</code> s for <code>Person</code> s, but they will be gone when we exit the application. Let&#8217;s modify <a href="{repoURL}/src/main/java/seedu/address/storage/XmlAdaptedPerson.java"><code>XmlAdaptedPerson</code></a> to include a <code>Remark</code> field so that it will be saved.</p>
</div>
<div class="paragraph">
<p><strong>Main:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add a new Xml field for <code>Remark</code>.</p>
</li>
<li>
<p>Be sure to modify the logic of the constructor and <code>toModelType()</code>, which handles the conversion to/from  <a href="{repoURL}/src/main/java/seedu/address/model/person/ReadOnlyPerson.java"><code>ReadOnlyPerson</code></a>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Tests:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Fix <code>validAddressBook.xml</code> such that the XML tests will not fail due to a missing <code>&lt;remark&gt;</code> element.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="step-7-ui-connect-code-remark-code-field-to-code-personcard-code"><a class="link" href="#step-7-ui-connect-code-remark-code-field-to-code-personcard-code">[Step 7] Ui: Connect <code>Remark</code> field to <code>PersonCard</code></a></h5>
<div class="paragraph">
<p>Our remark label in <a href="{repoURL}/src/main/java/seedu/address/ui/PersonCard.java"><code>PersonCard</code></a> is still a placeholder. Let&#8217;s bring it to life by binding it with the actual <code>remark</code> field.</p>
</div>
<div class="paragraph">
<p><strong>Main:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Modify <a href="{repoURL}/src/main/java/seedu/address/ui/PersonCard.java"><code>PersonCard#bindListeners()</code></a> to add the binding for <code>remark</code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Tests:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Modify <a href="{repoURL}/src/test/java/seedu/address/ui/testutil/GuiTestAssert.java"><code>GuiTestAssert#assertCardDisplaysPerson(&#8230;&#8203;)</code></a> so that it will compare the remark label.</p>
</li>
<li>
<p>In <a href="{repoURL}/src/test/java/seedu/address/ui/PersonCardTest.java"><code>PersonCardTest</code></a>, call <code>personWithTags.setRemark(ALICE.getRemark())</code> to test that changes in the <a href="{repoURL}/src/main/java/seedu/address/model/person/ReadOnlyPerson.java"><code>Person</code></a> 's remark correctly updates the corresponding <a href="{repoURL}/src/main/java/seedu/address/ui/PersonCard.java"><code>PersonCard</code></a>.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="step-8-logic-implement-code-remarkcommand-execute-code-logic"><a class="link" href="#step-8-logic-implement-code-remarkcommand-execute-code-logic">[Step 8] Logic: Implement <code>RemarkCommand#execute()</code> logic</a></h5>
<div class="paragraph">
<p>We now have everything set up&#8230;&#8203; but we still can&#8217;t modify the remarks. Let&#8217;s finish it up by adding in actual logic for our <code>remark</code> command.</p>
</div>
<div class="paragraph">
<p><strong>Main:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Replace the logic in <code>RemarkCommand#execute()</code> (that currently just throws an <code>Exception</code>), with the actual logic to modify the remarks of a person.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Tests:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Update <code>RemarkCommandTest</code> to test that the <code>execute()</code> logic works.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect3">
<h4 id="full-solution"><a class="link" href="#full-solution">Full Solution</a></h4>
<div class="paragraph">
<p>See this <a href="https://github.com/se-edu/addressbook-level4/pull/599">PR</a> for the step-by-step solution.</p>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
</div>
</div>
<div class="sect2">
<h3 id="enhancement-added-code-search-code-command"><a class="link" href="#enhancement-added-code-search-code-command">Enhancement Added: <code>search</code> Command</a></h3>
<div class="sect3">
<h4 id="external-behavior-2"><a class="link" href="#external-behavior-2">External behavior</a></h4>
<hr>
<div class="paragraph">
<p>Similar to the <code>find</code> command.
This comand searches for persons whose details contain the given keyphrase
Format: <code>search [keyphrase]</code></p>
</div>
<div class="paragraph">
<p><mark>Start of Extract [from: UserGuide]</mark></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="locating-persons-by-details-code-search-code"><a class="link" href="#locating-persons-by-details-code-search-code">Locating persons by details: <code>search</code></a></h3>
<div class="paragraph">
<p>Similar to <code>find</code> command above, but more comprehensive<br>
Finds persons whose details (any field e.g. name, email, address etc.) contain the exact keyphrase.<br>
Format: <code>search KEYPHRASE</code><br>
Shorthand for search: <code>sh</code></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>The search is case insensitive. e.g <code>hans</code> will match <code>Hans</code></p>
</li>
<li>
<p>Keyphrase can contain spaces.</p>
</li>
<li>
<p>The order of the keyphrase matters. e.g. <code>Hans Bo</code> will match <code>Hans Bo</code></p>
</li>
<li>
<p>Name, Phone, Email, Address, Remark, Tag are all searched.</p>
</li>
<li>
<p>Full or partial words will be matched e.g. <code>Han</code> will match <code>Hans Solo</code></p>
</li>
<li>
<p>Persons matching the keyphrase will be returned. e.g. <code>@gmail.com</code> will return <code>HansGruber@gmail.com</code>, <code>BoYang@gmail.com</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>search John</code><br>
Returns <code>john</code> and <code>John Doe</code></p>
</li>
<li>
<p><code>search joHn dOe</code><br>
Returns any person having names <code>John Doe</code></p>
</li>
<li>
<p><code>search mate</code><br>
Returns any person with details that matches <code>mate</code> such as <code>classmate</code> in tags.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Since v1.2.</p>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
<div class="sect3">
<h4 id="justification-2"><a class="link" href="#justification-2">Justification</a></h4>
<div class="paragraph">
<p><code>Search</code> is similar to <code>find</code>, but is more extensive. Instead of looking only at the name of the person in the addressbook, every other detail is checked. This might be useful when users are trying to search for persons who live in a particular location (e.g. search Clementi Road), or for persons who have gmail accounts (e.g. search @gmail.com). From a user experience perspective, there is high degree of consistency between this search command and the search command users would expect of web browsers, word processors and the likes.</p>
</div>
</div>
<div class="sect3">
<h4 id="implementation-2"><a class="link" href="#implementation-2">Implementation</a></h4>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: Developer Guide]</mark></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="search-mechanism"><a class="link" href="#search-mechanism">Search mechanism</a></h3>
<div class="paragraph">
<p>The search mechanism is very similar to find and relies on the predicate <code>DetailsContainKeyphrasePredicate</code>. This function allows users to search for persons whose details matches the keyphrase, case-insensitive. In other words, if any aspect of a person&#8217;s details (i.e. Name, Phone, Email, Address, Remark or Tag) contains exactly the keyphrase (inclusive of spaces and special characters) as a subsequence, the person(s) will be listed.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/SearchCommandSequenceDiagram.png" alt="SearchCommandSequenceDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 3.2.1 : Sequence Diagram of the Search Command</em></p>
</div>
<div class="paragraph">
<p>When the <code>search</code> command (or alias: <code>sh</code>) is being entered, followed by a non-empty keyphrase, <code>AddressBookParser</code> in <code>LogicManager</code> will return a <code>SearchCommandParser</code>, which will parse the keyphrase. The keyphrase will have trailing and preceding white spaces removed, and be ensured that it is not empty String. The parser will return a <code>SearchCommand</code> object, with a <code>DetailsContainKeyphrasePredicate</code> as its argument.</p>
</div>
<div class="paragraph">
<p><code>DetailsContainKeyphrasePredicate</code> implements a <code>Predicate &lt;ReadOnlyPerson&gt;</code> interface. <code>DetailsContainKeyphrasePredicate#test(ReadOnlyPerson person)</code> will be use to test if a Person&#8217;s details contain the keyphrase. Within <code>DetailsContainKeyphrasePredicate#test(ReadOnlyPerson person), a private method would be used to check each aspect of a Person (e.g. Name, Phone, Address etc.) to ensure readability. Since `String#contain</code> is case-sensitive, a case-insensitive method to check is required. <code>StringUtil#caseInsensitiveContains(Person person, String keyphrase)</code> converts both the Person&#8217;s attribute value and keyphrase to lowercase, and proceeds to use <code>String#contain</code> to ensure case-insensitivity.</p>
</div>
<div class="paragraph">
<p>After a <code>SearchCommand</code> is returned to the <code>LogicManager</code>, it will be executed. The method will call the model&#8217;s <code>updateFileredPersonList</code> method, which will list every Person that passes <code>DetailsContainKeyphrasePredicate#test</code>, and update the model accordingly. A successful command message will be returned if there are no errors thrown and the UI will update accordingly.</p>
</div>
<div class="sect3">
<h4 id="design-considerations"><a class="link" href="#design-considerations">Design Considerations</a></h4>
<div class="paragraph">
<p><strong>Aspect:</strong> What to be searched for<br>
<strong>Alternative 1 (current choice):</strong> Include all aspects of Persons to be searched for<br>
<strong>Pros:</strong> Users can search for users by other fields instead of name<br>
<strong>Cons:</strong> The search result may be too much for user to process, especially when common sequence of alphabets are entered (e.g. ".com")<br>
<strong>Alternative 2:</strong> Search only for selected fields<br>
<strong>Pros:</strong> Reduces the amount of search results for the user<br>
<strong>Cons:</strong> There is no consistency (design principle) with the mental concept of search that is currently used by applications such as Microsoft Word and Internet Browsers.</p>
</div>
<hr>
<div class="paragraph">
<p><strong>Aspect:</strong> How to search<br>
<strong>Alternative 1 (current choice):</strong> Use <code>DetailsContainKeyphrasePredicate</code><br>
<strong>Pros:</strong> <code>DetailsContainKeyphrasePredicate</code> is similar to <code>NameContainsKeywordsPredicate</code> used by FindCommand and therefore easier to implement<br>
<strong>Cons:</strong> Polymorphism may be employed instead of using separate classes for functions that are similar<br>
<strong>Alternative 2:</strong> Let <code>DetailsContainKeyphrasePredicate</code> inherit <code>NameContainsKeywordsPredicate</code><br>
<strong>Pros:</strong> Easier for developers to override and add methods<br>
<strong>Cons:</strong> Internal attributes are of different types and it might be more cumbersome to manipulate the data type.</p>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
</div>
</div>
<div class="sect2">
<h3 id="enhancement-added-code-login-code-command"><a class="link" href="#enhancement-added-code-login-code-command">Enhancement Added: <code>login</code> Command</a></h3>
<div class="sect3">
<h4 id="external-behavior-3"><a class="link" href="#external-behavior-3">External behavior</a></h4>
<hr>
<div class="paragraph">
<p>Authenticates the current user before giving read or write access.
Format: <code>login [usr/username] [pwd/password]</code></p>
</div>
<div class="paragraph">
<p><mark>Start of Extract [from: UserGuide]</mark></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="logging-in-code-login-code"><a class="link" href="#logging-in-code-login-code">Logging in : <code>login</code></a></h3>
<div class="paragraph">
<p>Validates the current user before executing commands.<br>
Format: <code>login</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Default username: admin
Default password: password
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
User must be logged in before executing commands, with the exception of <code>help</code>, <code>exit</code> and of course, <code>login</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Format:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>login usr/[enter username] pwd/[enter password]</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Since v1.3.</p>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
<div class="sect3">
<h4 id="justification-3"><a class="link" href="#justification-3">Justification</a></h4>
<div class="paragraph">
<p>Since this address book stores personal information about people, there should be some degree of security and privacy protection when it comes to using this address book. Therefore, without logging in, a user may not see or modify the contents of the address book.</p>
</div>
</div>
<div class="sect3">
<h4 id="implementation-3"><a class="link" href="#implementation-3">Implementation</a></h4>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: Developer Guide]</mark></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="user-login"><a class="link" href="#user-login">User Login</a></h3>
<div class="paragraph">
<p>We are currently using a simple authenticating method to validate users. In summary, the user&#8217;s username and password would be compared to the username and password stored in a file called <code>credentials.json</code>. More precisely, the password is stored as a hash value, using Java&#8217;s <code>String#hashCode()</code> method to prevent the password from being openly stored.</p>
</div>
<div class="paragraph">
<p>Before the user is logged in, the user would not be able to execute any commands. In this version, the user is still able to view the loaded list of contacts. In V1.5, the addressbook will not be loaded until the user is logged in.</p>
</div>
<div class="paragraph">
<p><strong>Mechanism</strong></p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/LoginCommandSequenceDiagram.png" alt="LoginCommandSequenceDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 3.5.1 : Sequence Diagram of the Login Command</em></p>
</div>
<div class="paragraph">
<p>A <code>LoginCommandParser</code> parses a user&#8217;s username and password, and returns a <code>LoginCommand</code>. The username and password entered by the user would be encapsulated in a class <code>UserCreds</code>, which is a private attribute in the <code>LoginCommand</code>. When the <code>execute</code> method is called, the <code>UserCreds</code> attribute in the <code>LoginCommand</code> would be compared against the <code>UserCreds</code> in the model. The model gets <code>UserCreds</code> attribute by reading the JSON file <code>credentials.json</code>.</p>
</div>
<div class="paragraph">
<p>Upon successful authentication, the attribute <code>isValidated</code> in the model&#8217;s <code>UserCreds</code> would be flagged to true. This change of attribute in <code>UserCreds</code> would be raised as an event called <code>indicateUserCredsChanged</code>. In version V1.5, this event would be transmitted using Google&#8217;s Event Bus to the UiManager, which will have a handler to make the necessary adjustments to the UI in response to the event.</p>
</div>
<div class="paragraph">
<p>Before a <code>Command</code> is executed, the <code>LogicManager</code> check if the current user is validated using <code>model#getUserCreds()#isValidatedSession()</code>. Only <code>helpCommand</code>, <code>exitCommand</code>, and of course <code>loginCommand</code> will be executed when a user is currently not logged in. Otherwise, a <code>CommandException</code> will be thrown.</p>
</div>
<div class="paragraph">
<p>In version 2.0, Address Book Pro should adopt an external security framework such as Apache Shiro to ensure more secure authentications.</p>
</div>
<div class="sect3">
<h4 id="design-consideration"><a class="link" href="#design-consideration">Design Consideration</a></h4>
<div class="paragraph">
<p><strong>Aspect:</strong> Using an external library for more secure authentication<br>
<strong>Alternative 1 (current choice):</strong>: Validate a user by checking username and password (hasCode) stored in json file.<br>
<strong>Alternative 2:</strong>: Use an external library such as Apache Shiro.<br>
<strong>Pros:</strong> Simple authentication without external libraries. Allows for quick iteration.<br>
<strong>Cons: </strong>Primitive authentication which does not provide good security. Password hash can be cracked to reveal original password. JSON file is also susceptible to manipulations, which may alter the user&#8217;s saved username and password.<br></p>
</div>
<hr>
<div class="paragraph">
<p><strong>Aspect</strong> Changes to the GUI<br>
<strong>Alternative 1:</strong> Allows users to view addressbook as it automatically loads.<br>
<strong>Alternative 2 (current choice):</strong> Hides all panels except for CommandBox and ResultDisplay. Reveal other panels (e.g. PersonList) once user is logged in.<br>
<strong>Alternative 3:</strong> Show all panles, but only load addressbook once user is logged in.<br>
<strong>Pros:</strong> Unauthorized users are unable to view contact list prior to login<br>
<strong>Cons:</strong> Login mechanism is coupled with existing UI of the address book; Future changes to UI may affect the login mechanism.</p>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
</div>
</div>
<div class="sect2">
<h3 id="enhancement-added-profile-picture-for-contact"><a class="link" href="#enhancement-added-profile-picture-for-contact">Enhancement Added: Profile picture for contact</a></h3>
<div class="sect3">
<h4 id="external-behavior-4"><a class="link" href="#external-behavior-4">External behavior</a></h4>
<hr>
<div class="paragraph">
<p>Contacts in the address book will now be assigned to their profile pictures used on Facebook, if any. Otherwise, a default image would be used. The contact&#8217;s Facebook id has to be saved before the retrieval is possible.</p>
</div>
<hr>
</div>
<div class="sect3">
<h4 id="justification-4"><a class="link" href="#justification-4">Justification</a></h4>
<div class="paragraph">
<p>As this address book is meant for University students to store their contacts, it is expected to store a significant number of contacts. As such, it might be difficult to visually recognize and identify contacts solely by the words and their contact information. Moreover, this visual search may be demanding especially when contacts share the same first names. Therefore, by having a contact image, the user would be able to quickly identify their target contact.</p>
</div>
</div>
<div class="sect3">
<h4 id="implementation-4"><a class="link" href="#implementation-4">Implementation</a></h4>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: Developer Guide]</mark></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="contact-profile-picture"><a class="link" href="#contact-profile-picture">Contact Profile Picture</a></h3>
<div class="paragraph">
<p>We are using <code>facebook4j</code> package as a wrapper to access Facebook&#8217;s Graph API. The <code>Facebook</code> class is used as an API to access the methods.</p>
</div>
<div class="paragraph">
<p>This class is used only in <code>PersonProfile</code> class, where there is a need to retrieve a contact&#8217;s profile picture from Facebook to use as a contact profile picture. The method <code>facebook#getPictureURL(String userId, PictureSize size)</code> is used to retrieve a larger image from Facebook.</p>
</div>
<div class="paragraph">
<p>[NOTE] The application is currently authorized with an application token that will expire in 2 months.<br>
[NOTE] In V2.0, Address Book Pro should introduce Facebook user login and allow users to authenticate the application instead of storing application tokens.</p>
</div>
<div class="paragraph">
<p>In the event that an image cannot be retrieved from Facebook, a default image stored locally would be used as the contact&#8217;s profile picture.</p>
</div>
<div class="paragraph">
<p><strong>Aspect:</strong> Retrieving a user&#8217;s Facebook profile picture<br>
<strong>Alternative 1 (temporary fix)</strong>: Hard code a Facebook userId, which will be used to retrieve a profile picture from the user.<br>
<strong>Alternative 2</strong>: Figure out how to retrieve userId from a Facebook user&#8217;s username or url.<br>
<strong>Alternative 3</strong>: Introduce another 3rd party library that returns a userId from a username<br>
<strong>Alternative 4 (Current Solution)</strong>: Get users to store their Facebook Id directly for immediate usage<br>
<strong>Pros</strong>: A simple fix to easily retrieve a contact&#8217;s profile picture<br>
<strong>Cons</strong>: Facebook IDs are not usually remembered by users and may require more effort to retrieve.</p>
</div>
<div class="paragraph">
<p><strong>Aspect:</strong> Facebook Authentication<br>
<strong>Alternative 1 (current choice)</strong>: Create a Facebook application and store the app id, app secret and token in the <code>PersonProfile</code> class.<br>
<strong>Alternative 2</strong>: Get users to log in with their own Facebook accounts and grant permission<br>
<strong>Pros</strong>: Hassle free for users<br>
<strong>Cons</strong>: The app id, app secret and token are stored in the open, which may pose security issues.</p>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="other-contributions"><a class="link" href="#other-contributions">Other contributions</a></h3>
<div class="ulist">
<ul>
<li>
<p>Add non-functional requirements (Pull requests <a href="https://github.com/CS2103AUG2017-F11-B4/main/pull/4" class="bare">https://github.com/CS2103AUG2017-F11-B4/main/pull/4</a>)</p>
</li>
<li>
<p>Designed UI mockup (Pull requests <a href="https://github.com/CS2103AUG2017-F11-B4/main/pull/19" class="bare">https://github.com/CS2103AUG2017-F11-B4/main/pull/19</a>)</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2017-11-13 16:11:35 +00:00
</div>
</div>
</body>
</html>